Day06 & Day07 基础入门-抓包技术&HTTPS协议&APP&小程序&PC应用&WEB&转发联动&全局协议&封包监听&网卡模式
=

准备工作
-
1、解决Windows物理机抓HTTPS  
2、解决安卓模拟器抓HTTPS  

实现目的
-
0、掌握几种抓包工具证书安装操作  
1、掌握几种HTTP/S抓包工具的使用  
2、学会Web ,APP ,小程序，PC应用等抓包  
3、了解此课抓包是针对那些目标什么协议  

抓包工具介绍
-
### 代理式抓包工具
1.	Fiddler :<https://www.telerik.com/fiddler>  
    是一个http协议调试代理工具，它能够记录并检查所有你的电脑和互联网之间的http通讯，设置断点，查看所有的"进出“Fiddler的数据(指cookie ,html ,JavaScript ,css等文件)。  
    https://mumu.163.com/help/20240814/40912_1174291.html
2.	Charles : <https://www.charlesproxy.com/>  
    是一个HTTP代理服务器,HTTP监视器,反转代理服务器，当浏览器连接Charles的代理访问互联网时，Charles可以监控浏览器发送和接收的所有数据。它允许一个开发者查看所有连接互联网的HTTP通信，这些包括request，response和HTTP headers（包含cookies与caching信息)。  
    如何使用Charles？  
     1.https://www.charlesproxy.com/download/latest-release/在此处下载Charles。  
     2.安装Charles  
     3.在https://www.zzzmode.com/mytools/charles/   
     输入Register Name(此名称随意，用于显示 Registered to xxx)，点击生成计算出注册码，打开Charles输入注册码即可。
3.	BurpSuite : <https://portswigger.net/burp>是用于攻击web 应用程序的集成平台，包含了许多工具。Burp suite为这些工具设计了许多接口，以加快攻击应用程序的过程。所有工具都共享一个请求，并能处理对应的HTTP 消息、持久性、认证、代理、日志、警报。  
     破解版可在此处下载：<https://www.52pojie.cn/thread-1544866-1-1.html>
### 网络接口式抓包工具
1.	TCPDump:是可以将网络中传送的数据包完全截获下来提供分析。它支持针对网络层、协议、主机、网络或端口的过滤，并提供and、or、not等逻辑语句来帮助你去掉无用的信息。
2.	Wireshark : https://www.wireshark.org/
是一个网络封包分析软件。网络封包分析软件的功能是截取网络封包，并尽可能显示出最为详细的网络封包资料。Wireshark使用WinPcap作为接口，直接与网卡进行数据报文交换:
3.	科来网络分析系统:https://www.colasoft.com.cn/
是一款由科来软件全自主研发，并拥有全部知识产品的网络分析产品。该系统具有行业领先的专家分析技术，通过捕获并分析网络中传输的底层数据包，对网络故障、网络安全以及网络性能进行全面分析，从而快速排查网络中出现或潜在的故障、安全及性能问题。


Proxifier
-
Proxifier 是一款功能强大的代理工具  
### 功能特点

•	广泛的代理支持：支持多种代理协议，如 HTTP、HTTPS、SOCKS4、SOCKS5 等，可满足不同用户和网络环境的需求。  
•	强制应用程序代理：能够强制所有应用程序通过代理服务器进行连接，而无需手动在每个应用程序中设置代理，方便快捷地实现全局代理。  
•	灵活的规则管理：用户可以根据自定义规则对应用程序的网络连接进行管理和控制，例如指定哪些应用程序使用代理服务器，哪些应用程序直接连接互联网，还支持使用通配符来设置规则，更加灵活地控制网络连接。  
•	网络安全与隐私保护：通过代理服务器隐藏用户的真实 IP 地址，增加隐私性和安全性；还支持加密通道隧道连接，可作为轻量级、灵活的 VPN 替代品，保护用户的网络安全和隐私。  
•	实时监控与日志记录：提供实时的网络活动信息，包括连接数、流量监控、数据统计等，用户可以随时了解网络使用情况；同时还能维护日志文件，记录进出流量和网络错误报告，方便用户进行故障排查和分析。  
应用场景  
•	突破网络限制：在一些网络环境中，某些应用程序可能受到限制无法直接访问外部网络，Proxifier 可以帮助用户绕过这些限制，让应用程序通过代理服务器访问互联网。  
•	网络访问优化：可以将网络流量通过更快的代理服务器进行路由，提高网络访问速度和性能；还可以通过配置多个代理服务器来均衡代理服务器流量，实现负载均衡。  
•	隐私保护：隐藏用户的真实 IP 地址，使用户在网络活动中更加匿名，保护个人隐私；在访问一些敏感网站或进行在线交易时，增加安全性。  

### 代理规则
基于进程筛选，基于IP或者域名筛选，基于端口筛选。

观前提醒（证书安装方法，以MuMu模拟器12举例）
-
一、	打开设置；
二、	在“网络与互联网”>“互联网”>网络偏好设置”>“安装证书”以安装证书；
三、	在“C:\Users\你的用户名\Documents\MuMu共享文件夹”中导入证书文件；
四、	选择刚刚导入的证书
Android 12支持安装.pem .cer .der的证书，无需担心证书格式的问题。

*：通过茶杯给到burpsuite。
-
1.	Fiddler的初次设置
打开Fiddler，工具>选项。
找到HTTPS，勾选捕获HTTPS连接、解密HTTPS通信（下拉选择“…来自所有进程”）和忽略服务器证书错误（不安全）
点击右侧的“动作”，点击信任根证书
导出根证书到桌面（FiddleRoot.cer）
2.	Charles的初次设置

尝试去抓小程序和安卓模拟器的游戏吧~
